<!DOCTYPE html>
<html lang="{{ locale }}" dir="{{ direction }}" class="{{ checkout_html_classes }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, height=device-height, minimum-scale=1.0, user-scalable=0">
    <meta name="referrer" content="origin">

    <title>{{ page_title }}</title>

    {{ content_for_header }}

    {{ checkout_stylesheets }}
    {{ checkout_scripts }}
  </head>
  <body>
    {{ skip_to_content_link }}

    <div class="banner" data-header>
      <div class="wrap">
        {{ content_for_logo }}
      </div>
    </div>

    {{ order_summary_toggle }}

    <div class="content" data-content>
      <div class="wrap">
        <div class="main" role="main">
          <div class="main__header">
            {{ content_for_logo }}
            {{ breadcrumb }}
            {{ alternative_payment_methods }}
          </div>
          <div class="main__content">
            {{ content_for_layout }}
          </div>
          <div class="main__footer">
            {{ content_for_footer }}
          </div>
        </div>
        <div class="sidebar" role="complementary">
          <div class="sidebar__header">
            {{ content_for_logo }}
          </div>
          <div class="sidebar__content">
            {{ content_for_order_summary }}
          </div>
        </div>
      </div>
    </div>

    {{ tracking_code }}
  </body>
</html>

{%- comment -%}
CUSTOMIZACIONES DEL CHECKOUT ENGLOBADAS EN UN CONDICIONAL
{%- endcomment -%}
{% if settings.customCheckout != blank %}
<style>
@font-face {
    font-family: 'GT Walsheim';
    src: url('{{ "GTWalsheim.woff2" | asset_url }}') format('woff2'),
        url('{{ "GTWalsheim.woff" | asset_url }}') format('woff');
    font-weight: normal;
    font-style: normal;
}
body {
    font-family: 'GT Walsheim';
    color: #0A0A0A;
}
</style>

<script>

    //seleccionar el div de la imagen y borrarlo
  const mercadoLogo = document.querySelector('.offsite-payment-gateway-logo');
  mercadoLogo.remove();

  //crear span
  const mySpan = document.createElement('span');
  mySpan.textContent = 'Pago tarjeta débito/crédito, efectivo y transferencia';

  // inyectar el span en el div requerido
  const myWrapper = document.querySelector('.content-box__emphasis');
  myWrapper.appendChild(mySpan);



//test de mutation observer

  //target node
  const targetNode = document.querySelector('.section__text');
  console.log(targetNode);
  // Options for the observer which mutations to observe
  const config = { attributes: true, childList: true, subtree: true };
  console.log(config);
  // Callback function to execute when mutations are observed
  const callback = function(mutationsList, observer) {
      // Use traditional 'for loops' for IE 11
      for(let mutation of mutationsList) {
          if (mutation.type === 'childList') {
              console.log('A child node has been added or removed.');
          }
          else if (mutation.type === 'attributes') {
              console.log('The ' + mutation.attributeName + ' attribute was modified.');
          }
      }
  };

  // Create an observer instance linked to the callback function
  const observer = new MutationObserver(callback);

  // Start observing the target node for configured mutations
  observer.observe(targetNode, config);

  // Later, you can stop observing
  observer.disconnect();

</script>

{% else %}
{%- comment -%}
Sin customizaciones
{%- endcomment -%}
{% endif %}